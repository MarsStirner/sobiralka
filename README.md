Интеграционный сервер (ИС)
=================

Интеграционный сервер обеспечивает взаимодействие между различными ТМИС.
Для установки ИС ознакомьтесь с системными требованиями и инструкцией, указанными ниже.

Системные требования
-----------

* Серверная ОС семейства Linux
* Python 2.7
* MySQL 5
* Web-Server Apache + mod_wsgi
* git
* zlib

Установка
-----------

Описанная ниже установка и настройка ПО производится из консоли Linux. Используется root-доступ.

**Update системы**

```
apt-get update
apt-get upgrade
```

**Установка виртуального окружения и инструмента работы с пакетами Python**

```
apt-get -y install mysql-client python python-dev python-setuptools
easy_install virtualenv pip
```

**Установка fabric для автоматического разворачивания проекта**

```
pip install fabric
```

**Перенос исходников ИС на сервер**
Используем директорию /srv/ для обеспечения защищенной установки ИС. Вместо /srv можно использовать любую удобную директорию на сервере (например, /var/www/webapps).
При этом, следуя инструкции, необходимо подразумевать, что вместо /srv необходимо указывать Вашу директорию.
В качестве имени проекта (my_project) можно использовать произвольное.

```
cd /srv/my_project
git clone https://github.com/KorusConsulting/sobiralka.git

```
при этом необходимо наличие github аккаунта с правами доступа в корпоративный репозиторий

** *Если доступа к репозиторию нет, но есть архив с исходниками проекта - достаточно распаковать его в отведенную директорию.**

**Автоматичская установка ИС и зависимостей**

```
fab deploy
```

**Настройка ИС**
* Зайти в административный интерфейс:
http://IP_ADSRESS:8888/admin/
* Перейти в интерфейс управления списком ЛПУ:
http://IP_ADSRESS:8888/admin/lpuview/
* Заполнить необходимую информацию о компонентах связи ЛПУ (КС), с которыми будет взаимодействовать ИС


**Импортирование данных в БД ИС из БД указанных КС**

```
fab update_db
```